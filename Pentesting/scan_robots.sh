#!/usr/bin/bash

TARGET_URL="http://192.168.0.108"
ROBOTS_FILE="robots.txt"

while read -r line; do
	path=$(echo "${line}" | awk -F'Disallow: ' '{print $2}')
	if [[ -n "${path}" ]]; then
		url="${TARGET_URL}${path}"
		status_code=$(curl -s -o /dev/null -w "%{http_code}" "${url}")
		echo "URL: ${url} ha devuelto el codigo de estado: ${status_code}"
	fi
done < <(curl -s "${TARGET_URL}/${ROBOTS_FILE}")
