#!/usr/bin/bash

DEFAULT_PORT=80

read -r -p "Introduce la direccion IP: " ip_address
read -r -p "Introduce el puerto objetivo (default: 80): " port

if [[ -z "${ip_address}" ]]; then
	exho "Es necesario una direccion IP"
	exit 1
fi

if [[ -z "${port}" ]]; then
	echo "No has introducido un puerto, usando el por defecto ${DEFAULT_PORT}"
	port="${DEFAULT_PORT}"
fi

echo "Intentando obtener la cabecera Server de ${ip_address}..."
result=$(curl -s --head "${ip_address}:${port}" | grep Server | awk -F':' '{print $2}')
echo "Server header for ${ip_address} on port ${port} is: ${result}"
